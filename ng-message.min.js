!function(e){"use strict";var n={requireAngular:"ngMessage's JavaScript requires angular",requireMsgName:"message name is require",requireFunction:"execute fn should be function"},r=(Array.prototype.slice,Array.prototype.filter,Array.isArray);if("undefined"==typeof e)throw new Error(n.requireAngular);e.module("ngMessage.services",[]).provider("ngMessage",[function(){function t(){return this instanceof t?void(this.events={}):new t}var i=function(){function e(e){return"function"==typeof e}function n(e){return this instanceof n?(this.defer=new u(this),void t(this,e)):new n(e)}function t(e,n,r){var t=s(e,n,r);e.defer.queue.push(t)}function i(e,n,r){var t,s=0,u=e.defer.current,o=e.defer.queue;return u?(s=o.indexOf(u),(u=e.defer.current=o[++s])?(t=("resolve"===n?u.fn:u.err)||function(e){e.resolve()},void t(r)):void i(e,n,r)):(u=e.defer.current=o[0],void u.fn(r))}function s(e,n,r){function t(n){return function(r){n=n||function(e){e.resolve()},n.call(e,e.defer,r)}}return{fn:t(n),err:t(r)}}function u(e){this.current=void 0,this.queue=[],this.$$parent=e}function o(e){for(var n=1,r=arguments.length;r>n;n++){var t=arguments[n];if(t)for(var i=Object.keys(t),s=0,u=i.length;u>s;s++){var o=i[s];e[o]=t[o]}}return e}function f(e){return e instanceof n?e:new n}return n.fn=n.prototype={constructor:n,then:function(e,n){return t(this,e,n),this},all:function(){}},u.prototype={resolve:function(e){i(this.$$parent,"resolve",e)},reject:function(e){i(this.$$parent,"reject",e)}},n.series=function(e,n){var i=f(this);if(r(e))for(var s=0;s<e.length;s++)t(i,e[s]);else t(i,e);return t(i,n),i},n.parallel=function(n,i){var s=f(this),u=[];return r(n)?t(s,function(){for(var r=0;r<n.length;r++)e(n[r])&&u.push(n[r].call(s));i.call(s,s.defer,u)}):e(n)&&i.call(s,n.call(s)),s},n.each=function(){},o(n.fn,{series:n.series,parallel:n.parallel,each:n.each,extend:o,start:i}),n}();t.fn=t.prototype,t.fn.checkRequired=function(r,t){var i=!0;return r||(console.log(n.requireMsgName),i=!1),t&&!e.isFunction(t)&&(console.log(n.requireFunction),i=!1),i},t.fn.register=t.fn.on=function(e,n){if(this.checkRequired(e,n)){this.events[e]=this.events[e]||[];var r=this.events[e]=i(n);return r}},t.fn.on=t.fn.register,t.fn.bind=t.fn.register,t.fn.addLister=t.fn.register,t.fn.remove=function(e){return e?void delete this.events[e]:void(this.events={})},t.fn.off=t.fn.remove,t.fn.unbind=t.fn.remove,t.fn.removeLister=t.fn.remove,t.fn.trigger=t.fn.fire=function(e){if(this.checkRequired(e)&&this.events[e]){var n=this.events[e];return n.start(n),n}},t.fn.fire=t.fn.trigger,t.fn.emit=t.fn.trigger,t.fn.list=function(e){return e?this.events[e]:this.events};var s={},u={};this.createNamespace=function(e){s[e]=new t,this.setCurrentNamespace(e)},this.setCurrentNamespace=function(e){u=s[e]},this.$get=[function(){return s&&this.createNamespace("ngMessage"),u}]}]),e.module("ngMessage.directive",[]).directive("ngMessage",["ngMessage",function(e){return{restrict:"A",scope:{msgName:"@",msgType:"@"},link:function(n,r){var t=n.msgType||"click";r.on(t,function(r,t){e.trigger(n.msgName,r,t)})}}}]),e.module("ngMessage",["ngMessage.services","ngMessage.directive"])}(angular);